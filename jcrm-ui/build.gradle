
task installNodeModules(type: Exec) {
    commandLine 'npm', 'install'
}

task buildAngular(type: Exec) {
    commandLine 'ng', 'build', '--configuration=' + System.getProperty("angular.env", "local")
}

task debug(type: Exec) {
    commandLine 'ng', 'serve'
}

configure(debug) {
    group = 'Application'
    description = 'Debug front-end'
}

sourceSets {
    main {
        java {
            srcDirs 'src'
        }
    }
}

tasks.buildAngular.dependsOn installNodeModules
tasks.classes.dependsOn buildAngular
