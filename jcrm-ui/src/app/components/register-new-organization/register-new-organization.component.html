<div class="card-form-wrapper register-new-org-component">
  <mat-card class="card-form-container">
    <mat-horizontal-stepper [linear]="true">
      <mat-step [editable]="canEditSteps">
        <div>
          <form [formGroup]="orgFormGroup">
            <ng-template matStepLabel><p [innerHTML]="'REGISTER_ORG.STEP_1.HEADER' | translate"></p></ng-template>
            <h2 class="stepper-step-title">{{ 'REGISTER_ORG.STEP_1.TITLE' | translate }}</h2>
            <p [innerHTML]="'REGISTER_ORG.STEP_1.DESCRIPTION' | translate"></p>
            <mat-grid-list cols="1" [rowHeight]="rowHeight" [gutterSize]="gutterSize">
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_1.ORG_NAME.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="orgName" required>
                  <mat-error *ngIf="orgName.invalid">{{getOrgNameErrorMessage()}}</mat-error>
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_1.COUNTRY.LABEL' | translate }}</mat-label>
                  <country-input formControlName="country" required></country-input>
                  <mat-error *ngIf="country.invalid">{{getCountryErrorMessage()}}</mat-error>
                </mat-form-field>
              </mat-grid-tile>
            </mat-grid-list>
            <div class="flex-row flex-end">
              <button mat-button routerLink="../"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.CANCEL' | translate }}</button>
              <button mat-raised-button matStepperNext color="primary"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.NEXT' | translate }}</button>
            </div>
          </form>
        </div>
      </mat-step>
      <mat-step [stepControl]="ownerFormGroup" [editable]="canEditSteps">
        <div>
          <form [formGroup]="ownerFormGroup">
            <ng-template matStepLabel><p [innerHTML]="'REGISTER_ORG.STEP_2.HEADER' | translate"></ng-template>
            <h2 class="stepper-step-title">{{ 'REGISTER_ORG.STEP_2.TITLE' | translate }}</h2>
            <p [innerHTML]="'REGISTER_ORG.STEP_2.DESCRIPTION' | translate"></p>
            <mat-grid-list cols="2" [rowHeight]="rowHeight" [gutterSize]="gutterSize">
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.FIRST_NAME.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="firstName">
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.SECOND_NAME.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="secondName">
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile [colspan]="2">
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.EMAIL.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="email" type="email" required>
                  <mat-hint>{{ 'REGISTER_ORG.STEP_2.EMAIL.HINT' | translate }}</mat-hint>
                  <mat-error *ngIf="email.invalid">{{getEmailErrorMessage()}}</mat-error>
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile [colspan]="2">
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.PHONE_NUMBER.LABEL' | translate }}</mat-label>
                  <phone-number-input formControlName="phoneNumber" required></phone-number-input>
                  <mat-error *ngIf="phoneNumber.invalid">{{getPhoneNumberErrorMessage()}}</mat-error>
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.PASSWORD.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="password" type="password" required>
                </mat-form-field>
              </mat-grid-tile>
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_2.PASSWORD_CONFIRM.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="passwordConfirm" type="password" required>
                </mat-form-field>
              </mat-grid-tile>
            </mat-grid-list>
            <div class="flex-row">
              <button mat-button matStepperPrevious [disabled]="disabled">{{ 'FORMS.BUTTON.BACK' | translate }}</button>
              <span class="space-filler"></span>
              <button mat-button routerLink="../"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.CANCEL' | translate }}</button>
              <button mat-raised-button matStepperNext color="primary"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.NEXT' | translate }}</button>
            </div>
          </form>
        </div>
      </mat-step>
      <mat-step [stepControl]="subscribeFormGroup" [editable]="canEditSteps">
        <div>
          <form [formGroup]="subscribeFormGroup">
            <ng-template matStepLabel><p [innerHTML]="'REGISTER_ORG.STEP_3.HEADER' | translate"></ng-template>
            <h2 class="stepper-step-title">{{ 'REGISTER_ORG.STEP_3.TITLE' | translate }}</h2>
            <p [innerHTML]="'REGISTER_ORG.STEP_3.DESCRIPTION' | translate"></p>
            <mat-radio-group formControlName="subscribe">
              <mat-grid-list cols="1" [rowHeight]="rowRadioButtonHeight" [gutterSize]="gutterSize">
                <mat-grid-tile>
                  <mat-radio-button class="radio-button-vertical form-field form-field-radio-button"
                                    value="true">{{ 'FORMS.BUTTON.YES' | translate }}</mat-radio-button>
                </mat-grid-tile>
                <mat-grid-tile>
                  <mat-radio-button class="radio-button-vertical form-field form-field-radio-button"
                                    value="false">{{ 'FORMS.BUTTON.NO' | translate }}</mat-radio-button>
                </mat-grid-tile>
              </mat-grid-list>
            </mat-radio-group>
            <div class="flex-row">
              <button mat-button matStepperPrevious [disabled]="disabled">{{ 'FORMS.BUTTON.BACK' | translate }}</button>
              <span class="space-filler"></span>
              <button mat-button routerLink="../"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.CANCEL' | translate }}</button>
              <button mat-raised-button matStepperNext color="primary" (click)="sendEmailConfirmation()"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.NEXT' | translate }}
              </button>
            </div>
          </form>
        </div>
      </mat-step>
      <mat-step [stepControl]="activationFormGroup" [editable]="canEditSteps">
        <div>
          <form [formGroup]="activationFormGroup">
            <ng-template matStepLabel><p [innerHTML]="'REGISTER_ORG.STEP_4.HEADER' | translate"></ng-template>
            <h2 class="stepper-step-title">{{ 'REGISTER_ORG.STEP_4.TITLE' | translate }}</h2>
            <p [innerHTML]="'REGISTER_ORG.STEP_4.DESCRIPTION' | translate:selectedEmail"></p>
            <mat-grid-list cols="1" [rowHeight]="rowHeight" [gutterSize]="gutterSize">
              <mat-grid-tile>
                <mat-form-field class="form-field" appearance="outline">
                  <mat-label>{{ 'REGISTER_ORG.STEP_4.ACTIVATE_CODE.LABEL' | translate }}</mat-label>
                  <input matInput formControlName="activationCode" required>
                </mat-form-field>
              </mat-grid-tile>
            </mat-grid-list>
            <div class="flex-row">
              <span class="space-filler"></span>
              <button mat-button routerLink="../"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.CANCEL' | translate }}</button>
              <button mat-raised-button color="primary" (click)="activateAndClose()"
                      [disabled]="disabled">{{ 'FORMS.BUTTON.COMPLETE' | translate }}</button>
            </div>
          </form>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </mat-card>

</div>
